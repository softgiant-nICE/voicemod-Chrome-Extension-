(()=>{"use strict";const e=new class{timeout(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}blob_to_base64(e){return new Promise(((t,o)=>{const a=new FileReader;a.onloadend=()=>t(a.result),a.readAsDataURL(e)}))}};console.log(1),chrome.runtime.onMessage.addListener(((t,o,a)=>{const n=t.reason,s=t.data;if("fetch_voice"===n)return console.log("fetch_voice"),async function(){const t=await fetch(s.base64),o=await t.blob(),n=new FormData;n.append("file",o),n.append("type","audio/wav");const i=await fetch("http://35.189.230.56/v1/command?x-api-key=k2Dyz1PF3ZrThf",{method:"POST",body:n}),c=await i.blob(),r=await e.blob_to_base64(c);a(r)}(),!0}))})();